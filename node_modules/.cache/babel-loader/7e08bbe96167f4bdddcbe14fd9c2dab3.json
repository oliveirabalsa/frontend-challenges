{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/leonardo/Documents/Leonardo/Projects/frontend-challenges/app/src/components/ProductDetails/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport Loading from \"../Loading/Loading\";\nimport ProductDetailCard from \"../ProductDetailCard\";\nimport BackIcon from \"../../assets/Icon.svg\";\nimport { Title, IconContainer } from \"./styles\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport convertPrice from \"../../helpers/convertPrice\";\n\nconst ProductDetails = props => {\n  _s();\n\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const GET_PRODUCTS = gql`\n  query {\n    allSkus(filter: { id: ${id} }) {\n      id\n      name\n      package\n      ean\n      category\n      imageUrl\n      description\n      salePrice\n      promotionalPrice\n      quantity\n    }\n  }\n`;\n\n  const handlePrice = price => {\n    const [value, cents] = convertPrice(price);\n    return `R$ ${value},${cents}`;\n  };\n\n  const handleProducts = product => {\n    const salePrice = handlePrice(product.salePrice);\n    const promotionalPrice = handlePrice(product.promotionalPrice);\n    const products = { ...product,\n      salePrice,\n      promotionalPrice\n    };\n    return /*#__PURE__*/_jsxDEV(ProductDetailCard, { ...products\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  };\n\n  const {\n    loading,\n    data\n  } = useQuery(GET_PRODUCTS);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      onClick: () => history.goBack(),\n      children: [/*#__PURE__*/_jsxDEV(IconContainer, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: BackIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), \"Produtos\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 18\n    }, this) : handleProducts(data.allSkus[0])]\n  }, void 0, true);\n};\n\n_s(ProductDetails, \"+j+Hcnm9iSefDnoOfZuNYPMbTv0=\", false, function () {\n  return [useHistory, useParams, useQuery];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/home/leonardo/Documents/Leonardo/Projects/frontend-challenges/app/src/components/ProductDetails/index.tsx"],"names":["React","useQuery","gql","Loading","ProductDetailCard","Title","IconContainer","useHistory","useParams","convertPrice","ProductDetails","props","history","id","GET_PRODUCTS","handlePrice","price","value","cents","handleProducts","product","salePrice","promotionalPrice","products","loading","data","goBack","BackIcon","allSkus"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;;AAEA,SAASC,KAAT,EAAgBC,aAAhB,QAAqC,UAArC;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,MAAMC,cAAwB,GAAIC,KAAD,IAAW;AAAA;;AAC1C,QAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAcL,SAAS,EAA7B;AAEA,QAAMM,YAAY,GAAGZ,GAAI;AAC3B;AACA,4BAA4BW,EAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAfE;;AAiBA,QAAME,WAAW,GAAIC,KAAD,IAAgB;AAClC,UAAM,CAACC,KAAD,EAAQC,KAAR,IAAiBT,YAAY,CAACO,KAAD,CAAnC;AACA,WAAQ,MAAKC,KAAM,IAAGC,KAAM,EAA5B;AACD,GAHD;;AAKA,QAAMC,cAAc,GAAIC,OAAD,IAAkB;AACvC,UAAMC,SAAS,GAAGN,WAAW,CAACK,OAAO,CAACC,SAAT,CAA7B;AACA,UAAMC,gBAAgB,GAAGP,WAAW,CAACK,OAAO,CAACE,gBAAT,CAApC;AAEA,UAAMC,QAAQ,GAAG,EAAE,GAAGH,OAAL;AAAcC,MAAAA,SAAd;AAAyBC,MAAAA;AAAzB,KAAjB;AAEA,wBAAO,QAAC,iBAAD,OAAuBC;AAAvB;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GAPD;;AASA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBxB,QAAQ,CAACa,YAAD,CAAlC;AAEA,sBACE;AAAA,4BACE,QAAC,KAAD;AAAO,MAAA,OAAO,EAAE,MAAMF,OAAO,CAACc,MAAR,EAAtB;AAAA,8BACE,QAAC,aAAD;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEC,QAAV;AAAoB,UAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAOGH,OAAO,gBAAG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAH,GAAiBL,cAAc,CAACM,IAAI,CAACG,OAAL,CAAa,CAAb,CAAD,CAPzC;AAAA,kBADF;AAWD,CAhDD;;GAAMlB,c;UACYH,U,EACIC,S,EAiCMP,Q;;;KAnCtBS,c;AAkDN,eAAeA,cAAf","sourcesContent":["import React from \"react\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport Loading from \"../Loading/Loading\";\nimport ProductDetailCard from \"../ProductDetailCard\";\nimport BackIcon from \"../../assets/Icon.svg\";\nimport { Title, IconContainer } from \"./styles\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport convertPrice from \"../../helpers/convertPrice\";\n\nconst ProductDetails: React.FC = (props) => {\n  const history = useHistory();\n  const { id }: any = useParams();\n\n  const GET_PRODUCTS = gql`\n  query {\n    allSkus(filter: { id: ${id} }) {\n      id\n      name\n      package\n      ean\n      category\n      imageUrl\n      description\n      salePrice\n      promotionalPrice\n      quantity\n    }\n  }\n`;\n\n  const handlePrice = (price: any) => {\n    const [value, cents] = convertPrice(price);\n    return `R$ ${value},${cents}`;\n  };\n\n  const handleProducts = (product: any) => {\n    const salePrice = handlePrice(product.salePrice);\n    const promotionalPrice = handlePrice(product.promotionalPrice);\n\n    const products = { ...product, salePrice, promotionalPrice };\n\n    return <ProductDetailCard {...products} />;\n  };\n\n  const { loading, data } = useQuery(GET_PRODUCTS);\n\n  return (\n    <>\n      <Title onClick={() => history.goBack()}>\n        <IconContainer>\n          <img src={BackIcon} alt=\"\" />\n        </IconContainer>\n        Produtos\n      </Title>\n      {loading ? <Loading /> : handleProducts(data.allSkus[0])}\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}